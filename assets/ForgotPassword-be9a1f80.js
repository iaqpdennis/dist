import{k as N,l as P,r as v,c as x,m as q,d as s,e as p,f as a,i as t,p as e,T as w,q as I,h as n,s as j,t as d,v as g,x as l,y,F as D,z as u,A as b,B as V,C as L,D as M,E as A}from"./index-2cc77167.js";const z=a("h2",{class:"text-2xl font-semibold text-slate-600 dark:text-navy-100"},"Forgot Password",-1),O=a("div",{class:"mt-6"},[a("p",{class:"text-slate-400 dark:text-navy-300"}," Enter the email address you used when you joined and weâ€™ll send you instructions to reset your password. "),a("p",{class:"mt-4 text-slate-400 dark:text-navy-300"}," For security reasons, we do NOT store your password. So rest assured that we will never send your password via email. ")],-1),R={class:"mt-10"},U={key:0,class:"flex justify-center"},W=a("span",null,"Back to Login",-1),G=["onSubmit"],H={class:"mt-7 flex flex-col items-center gap-4 sm:flex-row sm:justify-end"},Q={__name:"ForgotPassword",setup(J){const $=N(),m=P({email:""}),o=v(!1),c=v(!1),_=v(""),i=v(!1);let k;const E=x(()=>({email:m.email,callback_url:`${window.location.origin}/reset-password`})),S=x(()=>({email:{required:L,email:M}})),r=q(S,m);async function B(){if(await r.value.$validate())try{clearTimeout(k),o.value=!0,c.value=!1,i.value=!1,await $.forgotPassword(E.value),o.value=!1,i.value=!0}catch({message:f}){o.value=!1,c.value=!0,_.value=f,F()}}function F(){k=setTimeout(()=>{c.value=!1,_.value=""},5e3)}return(T,f)=>{const h=A("Icon");return s(),p(D,null,[z,O,a("div",R,[t(w,{name:"fade"},{default:e(()=>[c.value?(s(),d(V,{key:0,mode:"error",class:"mb-5"},{default:e(()=>[u(b(_.value),1)]),_:1})):l("",!0)]),_:1}),t(w,{name:"fade"},{default:e(()=>[i.value?(s(),d(V,{key:0,mode:"success",class:"mb-5"},{default:e(()=>[u(" We've sent you an email with a link to reset your password. ")]),_:1})):l("",!0)]),_:1}),t(w,{name:"fade"},{default:e(()=>[i.value?(s(),p("div",U,[t(y,{mode:"outline-default",link:"/login","is-link":""},{default:e(()=>[t(h,{icon:"formkit:arrowleft",class:"h-5 w-5"}),W]),_:1})])):l("",!0)]),_:1}),i.value?l("",!0):(s(),p("form",{key:0,onSubmit:I(B,["prevent"])},[a("div",null,[t(j,{modelValue:m.email,"onUpdate:modelValue":f[0]||(f[0]=C=>m.email=C),label:"Email address",type:"email",placeholder:"Enter your email address","is-invalid":n(r).email.$error},null,8,["modelValue","is-invalid"]),n(r).email.$error&&n(r).email.required.$invalid?(s(),d(g,{key:0},{default:e(()=>[u(" Email address is required. ")]),_:1})):l("",!0),n(r).email.$error&&n(r).email.email.$invalid?(s(),d(g,{key:1},{default:e(()=>[u(" Email address is not valid. ")]),_:1})):l("",!0)]),a("div",H,[t(y,{mode:"default",link:"/login","is-link":"",class:"order-2 w-full sm:order-1 sm:w-auto"},{default:e(()=>[u(" Cancel ")]),_:1}),t(y,{type:"submit",mode:"primary",disabled:o.value,class:"order-1 w-full sm:order-2 sm:w-auto"},{default:e(()=>[o.value?(s(),d(h,{key:0,icon:"gg:spinner",class:"animate-spin text-base"})):l("",!0),a("span",null,b(o.value?"Loading...":"Reset Password"),1)]),_:1},8,["disabled"])])],40,G))])],64)}}};export{Q as default};
