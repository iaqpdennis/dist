import{r as w,c as y,d as s,e as i,F as V,I as _,ai as A,aj as b,h,q as m,ak as v}from"./index-2cc77167.js";const C=["onUpdate:modelValue","autofocus","onKeydown","onPaste","onKeyup"],D={__name:"FormOtp",props:{modelValue:{type:Array,default(){return[]}},digitCount:{type:Number,required:!0,default(){return 4}}},emits:["update:modelValue","verifyAuth"],setup(c,{emit:r}){const l=c,o=w(null),a=y({get(){const e=l.modelValue;for(let t=0;t<l.digitCount;t++)e[t]=null;return e},set(e){r("update:modelValue",e)}}),f=y(()=>{for(const e of a.value)if(e==null||e==null)return!1;return!0});function g(e,t){if(e.key!=="Tab"&&e.key!=="ArrowRight"&&e.key!=="ArrowLeft"&&e.preventDefault(),e.key==="Backspace"){a.value[t]=null,t!=0&&o.value.children[t-1].focus();return}new RegExp("^([0-9])$").test(e.key)&&(a.value[t]=e.key,t!=l.digitCount-1?o.value.children[t+1].focus():o.value.children[t].blur()),f.value&&(r("update:modelValue",a.value),r("verifyAuth"))}async function p(e){e.preventDefault(),e.stopPropagation();const t=await navigator.clipboard.readText();isNaN(t)||(a.value.forEach((d,u)=>{a.value[u]=t.split("")[u]}),e.target.blur(),r("update:modelValue",a.value),r("verifyAuth"))}function k(){f.value&&r("verifyAuth")}return(e,t)=>(s(),i("div",{ref_key:"otpContainer",ref:o,class:"flex items-center justify-center space-x-2 sm:space-x-4"},[(s(!0),i(V,null,_(c.digitCount,(d,u)=>A((s(),i("input",{key:d+u,"onUpdate:modelValue":n=>h(a)[u]=n,class:"form-input otp-input",type:"tel",autofocus:u===0,placeholder:"0",maxlength:"1",onKeydown:n=>g(n,u),onPaste:m(p,["prevent"]),onKeyup:[v(m(p,["ctrl"]),["v"]),v(k,["enter"])]},null,40,C)),[[b,h(a)[u],void 0,{number:!0}]])),128))],512))}};export{D as _};
