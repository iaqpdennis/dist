import{k as C,M,l as N,r as p,c as L,m as T,b as I,d as n,e as P,f as t,i as l,p as r,t as u,z as i,A as w,B as R,x as c,T as j,q as D,h as s,s as U,v as _,G as z,N as A,O as y,y as F,P as G,J as H,C as x,D as J,E as O}from"./index-2cc77167.js";import{u as W}from"./login-1fb07e85.js";const K="/assets/logo-vertical-3ee116c5.svg",Q=G('<div class="text-center"><img class="mx-auto h-24 w-24 lg:hidden" src="'+K+'" alt="logo"><div class="mt-4"><h2 class="text-2xl font-semibold text-slate-600 dark:text-navy-100">Welcome Back</h2><p class="text-slate-400 dark:text-navy-300"> Enter your credentials to access your account </p></div></div>',1),X={class:"mt-16"},Y=["onSubmit"],Z={class:"mt-4"},ee={class:"mt-4 flex items-center justify-between"},se={class:"mt-10 flex flex-wrap items-center justify-center sm:justify-between"},ae={class:"text-sm"},le={__name:"MemberLogin",setup(te){const g=H(),V=C(),h=W(),$=M(),o=N({email:"",password:"",remember_me:0}),d=p(!1),f=p(!1),v=p("");let b;const k=L(()=>({email:{required:x,email:J},password:{required:x}})),a=T(k,o);I(()=>{V.memberCredentials=null,$.removeCoupon()});async function S(){if(await a.value.$validate())try{clearTimeout(b),d.value=!0,f.value=!1;const e=await h.login(o);if(typeof e=="string"){location.href=e;return}if(e){g.go();return}g.push("/login/authenticate")}catch({message:e}){d.value=!1,f.value=!0,v.value=e,E()}}function E(){b=setTimeout(()=>{f.value=!1,v.value=""},5e3)}return(q,e)=>{const B=O("Icon");return n(),P("div",null,[Q,t("div",X,[l(j,{name:"fade"},{default:r(()=>[f.value?(n(),u(R,{key:0,mode:"error",class:"mb-5"},{default:r(()=>[i(w(v.value),1)]),_:1})):c("",!0)]),_:1}),t("form",{onSubmit:D(S,["prevent"])},[t("div",null,[l(U,{modelValue:o.email,"onUpdate:modelValue":e[0]||(e[0]=m=>o.email=m),label:"Email address",type:"email","is-invalid":s(a).email.$error},null,8,["modelValue","is-invalid"]),s(a).email.$error&&s(a).email.required.$invalid?(n(),u(_,{key:0},{default:r(()=>[i(" Email address is required. ")]),_:1})):c("",!0),s(a).email.$error&&s(a).email.email.$invalid?(n(),u(_,{key:1},{default:r(()=>[i(" Email address is not valid. ")]),_:1})):c("",!0)]),t("div",Z,[l(z,{modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=m=>o.password=m),label:"Password","is-invalid":s(a).password.$error},null,8,["modelValue","is-invalid"]),s(a).password.$error&&s(a).password.required.$invalid?(n(),u(_,{key:0},{default:r(()=>[i(" Password is required. ")]),_:1})):c("",!0)]),t("div",ee,[l(A,{modelValue:o.remember_me,"onUpdate:modelValue":e[2]||(e[2]=m=>o.remember_me=m),label:"Remember me",mode:"primary",size:"md"},null,8,["modelValue"]),l(s(y),{to:"/forgot-password",class:"hover:text-success"},{default:r(()=>[i("Forgot password?")]),_:1})]),t("div",se,[l(F,{type:"submit",mode:"primary",class:"mb-1 w-full sm:mb-0 sm:w-auto",disabled:d.value},{default:r(()=>[d.value?(n(),u(B,{key:0,icon:"gg:spinner",class:"animate-spin text-base"})):c("",!0),t("span",null,w(d.value?"Loading...":"Sign in"),1)]),_:1},8,["disabled"]),t("p",ae,[i(" Don't have an account? "),t("span",null,[l(s(y),{to:"/register",class:"text-success"},{default:r(()=>[i(" Register Here ")]),_:1})])])])],40,Y)])])}}};export{le as default};
